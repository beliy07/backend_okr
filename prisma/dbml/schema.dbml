//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  email String [unique, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table avatars {
  id String [pk]
  name String [not null]
  imageUrl String [not null]
  voiceId String [not null]
  videoUrl String
  audioUrl String
  textTemplate String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  generationTasks generation_tasks [not null]
}

Table generation_tasks {
  id String [pk]
  userId String [not null]
  avatarId String [not null]
  text String [not null]
  type GenerationType [not null, default: 'VIDEO']
  status GenerationTaskStatus [not null, default: 'PENDING']
  audioUrl String
  videoUrl String
  errorMessage String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  completedAt DateTime
  avatar avatars [not null]
}

Table user_limits {
  id String [pk]
  userId String [unique, not null]
  audio Int [not null, default: 5]
  video Int [not null, default: 3]
}

Enum GenerationTaskStatus {
  PENDING
  PROCESSING
  GENERATING_VOICE
  GENERATING_VIDEO
  COMPLETED
  FAILED
}

Enum GenerationType {
  AUDIO
  VIDEO
}

Ref: generation_tasks.avatarId > avatars.id [delete: Cascade]